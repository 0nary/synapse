@namespace Synapse.Dashboard
@typeparam T

@foreach(var column in Table.columns.Where(c => c.IsVisible))
{
    <th draggable="@(column.IsDraggable ? "true" : "false")"
        ondragover="event.preventDefault();"
        @ondragstart="() => Table.OnStartDragColumn(column)"
        @ondragend="() => Table.OnEndDragColumn(column)"
        @ondrop="() => Table.OnDropColumnOn(column)"
        @onclick="async () => await Table.OnClickColumn(column)"
        class="dropzone @Table.HeaderClass">
        @if(column.HeaderTemplate == null)
            @Table.DefaultHeaderTemplate(new(Table, column))
        else
            @column.HeaderTemplate(new(Table, column))
    </th>
}

@code {

    [CascadingParameter]
    public Table<T> Table { get; set; }

}
